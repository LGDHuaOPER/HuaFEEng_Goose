if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(a){"use strict";a.fn.emulateTransitionEnd=function(t){var e=!1,i=this;a(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||a(i).trigger(a.support.transition.end)},t),this},a(function(){a.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(t){if(a(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(s){"use strict";var e='[data-dismiss="alert"]',o=function(t){s(t).on("click",e,this.close)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.close=function(t){function e(){n.detach().trigger("closed.bs.alert").remove()}var i=s(this),a=i.attr("data-target");a||(a=(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]*$)/,""));var n=s("#"===a?[]:a);t&&t.preventDefault(),n.length||(n=i.closest(".alert")),n.trigger(t=s.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),s.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",e).emulateTransitionEnd(o.TRANSITION_DURATION):e())};var t=s.fn.alert;s.fn.alert=function(i){return this.each(function(){var t=s(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new o(this)),"string"==typeof i&&e[i].call(t)})},s.fn.alert.Constructor=o,s.fn.alert.noConflict=function(){return s.fn.alert=t,this},s(document).on("click.bs.alert.data-api",e,o.prototype.close)}(jQuery),function(s){"use strict";function i(a){return this.each(function(){var t=s(this),e=t.data("bs.button"),i="object"==typeof a&&a;e||t.data("bs.button",e=new n(this,i)),"toggle"==a?e.toggle():a&&e.setState(a)})}var n=function(t,e){this.$element=s(t),this.options=s.extend({},n.DEFAULTS,e),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var e="disabled",i=this.$element,a=i.is("input")?"val":"html",n=i.data();t+="Text",null==n.resetText&&i.data("resetText",i[a]()),setTimeout(s.proxy(function(){i[a](null==n[t]?this.options[t]:n[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=s.fn.button;s.fn.button=i,s.fn.button.Constructor=n,s.fn.button.noConflict=function(){return s.fn.button=t,this},s(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=s(t.target).closest(".btn");i.call(e,"toggle"),s(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){s(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(u){"use strict";function o(n){return this.each(function(){var t=u(this),e=t.data("bs.carousel"),i=u.extend({},c.DEFAULTS,t.data(),"object"==typeof n&&n),a="string"==typeof n?n:i.slide;e||t.data("bs.carousel",e=new c(this,i)),"number"==typeof n?e.to(n):a?e[a]():i.interval&&e.pause().cycle()})}var c=function(t,e){this.$element=u(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",u.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",u.proxy(this.pause,this)).on("mouseleave.bs.carousel",u.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},c.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(u.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},c.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var a=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(a)},c.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},c.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&u.support.transition&&(this.$element.trigger(u.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),a=e||this.getItemForDirection(t,i),n=this.interval,s="next"==t?"left":"right",o=this;if(a.hasClass("active"))return this.sliding=!1;var l=a[0],r=u.Event("slide.bs.carousel",{relatedTarget:l,direction:s});if(this.$element.trigger(r),!r.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=u(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var p=u.Event("slid.bs.carousel",{relatedTarget:l,direction:s});return u.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,i.addClass(s),a.addClass(s),i.one("bsTransitionEnd",function(){a.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(p)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(i.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),n&&this.cycle(),this}};var t=u.fn.carousel;u.fn.carousel=o,u.fn.carousel.Constructor=c,u.fn.carousel.noConflict=function(){return u.fn.carousel=t,this};var e=function(t){var e,i=u(this),a=u(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var n=u.extend({},a.data(),i.data()),s=i.attr("data-slide-to");s&&(n.interval=!1),o.call(a,n),s&&a.data("bs.carousel").to(s),t.preventDefault()}};u(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),u(window).on("load",function(){u('[data-ride="carousel"]').each(function(){var t=u(this);o.call(t,t.data())})})}(jQuery),function(o){"use strict";function n(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return o(i)}function l(a){return this.each(function(){var t=o(this),e=t.data("bs.collapse"),i=o.extend({},r.DEFAULTS,t.data(),"object"==typeof a&&a);!e&&i.toggle&&/show|hide/.test(a)&&(i.toggle=!1),e||t.data("bs.collapse",e=new r(this,i)),"string"==typeof a&&e[a]()})}var r=function(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,e),this.$trigger=o('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var i=o.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!o.support.transition)return n.call(this);var s=o.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",o.proxy(n,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][s])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=o.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return o.support.transition?void this.$element[e](0).one("bsTransitionEnd",o.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return o(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(o.proxy(function(t,e){var i=o(e);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=o.fn.collapse;o.fn.collapse=l,o.fn.collapse.Constructor=r,o.fn.collapse.noConflict=function(){return o.fn.collapse=t,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=o(this);e.attr("data-target")||t.preventDefault();var i=n(e),a=i.data("bs.collapse")?"toggle":e.data();l.call(i,a)})}(jQuery),function(o){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var i=e&&o(e);return i&&i.length?i:t.parent()}function s(a){a&&3===a.which||(o(".dropdown-backdrop").remove(),o(r).each(function(){var t=o(this),e=l(t),i={relatedTarget:this};e.hasClass("open")&&(a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&o.contains(e[0],a.target)||(e.trigger(a=o.Event("hide.bs.dropdown",i)),a.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(o.Event("hidden.bs.dropdown",i)))))}))}var r='[data-toggle="dropdown"]',a=function(t){o(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(t){var e=o(this);if(!e.is(".disabled, :disabled")){var i=l(e),a=i.hasClass("open");if(s(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&o(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(o(this)).on("click",s);var n={relatedTarget:this};if(i.trigger(t=o.Event("show.bs.dropdown",n)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(o.Event("shown.bs.dropdown",n))}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=o(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=l(e),a=i.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&i.find(r).trigger("focus"),e.trigger("click");var n=i.find(".dropdown-menu li:not(.disabled):visible a");if(n.length){var s=n.index(t.target);38==t.which&&0<s&&s--,40==t.which&&s<n.length-1&&s++,~s||(s=0),n.eq(s).trigger("focus")}}}};var t=o.fn.dropdown;o.fn.dropdown=function(i){return this.each(function(){var t=o(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new a(this)),"string"==typeof i&&e[i].call(t)})},o.fn.dropdown.Constructor=a,o.fn.dropdown.noConflict=function(){return o.fn.dropdown=t,this},o(document).on("click.bs.dropdown.data-api",s).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function(s){"use strict";function o(a,n){return this.each(function(){var t=s(this),e=t.data("bs.modal"),i=s.extend({},l.DEFAULTS,t.data(),"object"==typeof a&&a);e||t.data("bs.modal",e=new l(this,i)),"string"==typeof a?e[a](n):i.show&&e.show(n)})}var l=function(t,e){this.options=e,this.$body=s(document.body),this.$element=s(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,s.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};l.VERSION="3.3.7",l.TRANSITION_DURATION=300,l.BACKDROP_TRANSITION_DURATION=150,l.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},l.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},l.prototype.show=function(i){var a=this,t=s.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',s.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){a.$element.one("mouseup.dismiss.bs.modal",function(t){s(t.target).is(a.$element)&&(a.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=s.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(a.$body),a.$element.show().scrollTop(0),a.adjustDialog(),t&&a.$element[0].offsetWidth,a.$element.addClass("in"),a.enforceFocus();var e=s.Event("shown.bs.modal",{relatedTarget:i});t?a.$dialog.one("bsTransitionEnd",function(){a.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(l.TRANSITION_DURATION):a.$element.trigger("focus").trigger(e)}))},l.prototype.hide=function(t){t&&t.preventDefault(),t=s.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),s(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),s.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",s.proxy(this.hideModal,this)).emulateTransitionEnd(l.TRANSITION_DURATION):this.hideModal())},l.prototype.enforceFocus=function(){s(document).off("focusin.bs.modal").on("focusin.bs.modal",s.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},l.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",s.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},l.prototype.resize=function(){this.isShown?s(window).on("resize.bs.modal",s.proxy(this.handleUpdate,this)):s(window).off("resize.bs.modal")},l.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},l.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},l.prototype.backdrop=function(t){var e=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=s.support.transition&&i;if(this.$backdrop=s(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",s.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(l.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){e.removeBackdrop(),t&&t()};s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(l.BACKDROP_TRANSITION_DURATION):n()}else t&&t()},l.prototype.handleUpdate=function(){this.adjustDialog()},l.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},l.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},l.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},l.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},l.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},l.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=s.fn.modal;s.fn.modal=o,s.fn.modal.Constructor=l,s.fn.modal.noConflict=function(){return s.fn.modal=t,this},s(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=s(this),i=e.attr("href"),a=s(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),n=a.data("bs.modal")?"toggle":s.extend({remote:!/#/.test(i)&&i},a.data(),e.data());e.is("a")&&t.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),o.call(a,n,this)})}(jQuery),function(m){"use strict";var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,i){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var a=this.options.trigger.split(" "),n=a.length;n--;){var s=a[n];if("click"==s)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=s){var o="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var i={},a=this.getDefaults();return this._options&&m.each(this._options,function(t,e){a[t]!=e&&(i[t]=e)}),i},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue())return clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},g.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var i=this,a=this.tip(),n=this.getUID(this.type);this.setContent(),a.attr("id",n),this.$element.attr("aria-describedby",n),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,l=o.test(s);l&&(s=s.replace(o,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var r=this.getPosition(),d=a[0].offsetWidth,p=a[0].offsetHeight;if(l){var u=s,c=this.getPosition(this.$viewport);s="bottom"==s&&r.bottom+p>c.bottom?"top":"top"==s&&r.top-p<c.top?"bottom":"right"==s&&r.right+d>c.width?"left":"left"==s&&r.left-d<c.left?"right":s,a.removeClass(u).addClass(s)}var h=this.getCalculatedOffset(s,r,d,p);this.applyPlacement(h,s);var f=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};m.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",f).emulateTransitionEnd(g.TRANSITION_DURATION):f()}},g.prototype.applyPlacement=function(t,e){var i=this.tip(),a=i[0].offsetWidth,n=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(o)&&(o=0),t.top+=s,t.left+=o,m.offset.setOffset(i[0],m.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,r=i[0].offsetHeight;"top"==e&&r!=n&&(t.top=t.top+n-r);var d=this.getViewportAdjustedDelta(e,t,l,r);d.left?t.left+=d.left:t.top+=d.top;var p=/top|bottom/.test(e),u=p?2*d.left-a+l:2*d.top-n+r,c=p?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(u,i[0][c],p)},g.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){function e(){"in"!=i.hoverState&&a.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,a=m(this.$tip),n=m.Event("hide.bs."+this.type);if(this.$element.trigger(n),!n.isDefaultPrevented())return a.removeClass("in"),m.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",e).emulateTransitionEnd(g.TRANSITION_DURATION):e(),this.hoverState=null,this},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],i="BODY"==e.tagName,a=e.getBoundingClientRect();null==a.width&&(a=m.extend({},a,{width:a.right-a.left,height:a.bottom-a.top}));var n=window.SVGElement&&e instanceof window.SVGElement,s=i?{top:0,left:0}:n?null:t.offset(),o={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=i?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},a,o,l,s)},g.prototype.getCalculatedOffset=function(t,e,i,a){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-a,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-a/2,left:e.left-i}:{top:e.top+e.height/2-a/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,i,a){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var l=e.top-s-o.scroll,r=e.top+s-o.scroll+a;l<o.top?n.top=o.top-l:r>o.top+o.height&&(n.top=o.top+o.height-r)}else{var d=e.left-s,p=e.left+s+i;d<o.left?n.left=o.left-d:p>o.right&&(n.left=o.left+o.width-p)}return n},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var t=m.fn.tooltip;m.fn.tooltip=function(a){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),i="object"==typeof a&&a;!e&&/destroy|hide/.test(a)||(e||t.data("bs.tooltip",e=new g(this,i)),"string"==typeof a&&e[a]())})},m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=t,this}}(jQuery),function(n){"use strict";var s=function(t,e){this.init("popover",t,e)};if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");s.VERSION="3.3.7",s.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((s.prototype=n.extend({},n.fn.tooltip.Constructor.prototype)).constructor=s).prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},s.prototype.hasContent=function(){return this.getTitle()||this.getContent()},s.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=n.fn.popover;n.fn.popover=function(a){return this.each(function(){var t=n(this),e=t.data("bs.popover"),i="object"==typeof a&&a;!e&&/destroy|hide/.test(a)||(e||t.data("bs.popover",e=new s(this,i)),"string"==typeof a&&e[a]())})},n.fn.popover.Constructor=s,n.fn.popover.noConflict=function(){return n.fn.popover=t,this}}(jQuery),function(s){"use strict";function n(t,e){this.$body=s(document.body),this.$scrollElement=s(s(t).is(document.body)?window:t),this.options=s.extend({},n.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s.proxy(this.process,this)),this.refresh(),this.process()}function e(a){return this.each(function(){var t=s(this),e=t.data("bs.scrollspy"),i="object"==typeof a&&a;e||t.data("bs.scrollspy",e=new n(this,i)),"string"==typeof a&&e[a]()})}n.VERSION="3.3.7",n.DEFAULTS={offset:10},n.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},n.prototype.refresh=function(){var t=this,a="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),s.isWindow(this.$scrollElement[0])||(a="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=s(this),e=t.data("target")||t.attr("href"),i=/^#./.test(e)&&s(e);return i&&i.length&&i.is(":visible")&&[[i[a]().top+n,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},n.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),a=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),a<=e)return o!=(t=s[s.length-1])&&this.activate(t);if(o&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)o!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},n.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=s(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},n.prototype.clear=function(){s(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=s.fn.scrollspy;s.fn.scrollspy=e,s.fn.scrollspy.Constructor=n,s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this},s(window).on("load.bs.scrollspy.data-api",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);e.call(t,t.data())})})}(jQuery),function(l){"use strict";function e(i){return this.each(function(){var t=l(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new o(this)),"string"==typeof i&&e[i]()})}var o=function(t){this.element=l(t)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=e.find(".active:last a"),n=l.Event("hide.bs.tab",{relatedTarget:t[0]}),s=l.Event("show.bs.tab",{relatedTarget:a[0]});if(a.trigger(n),t.trigger(s),!s.isDefaultPrevented()&&!n.isDefaultPrevented()){var o=l(i);this.activate(t.closest("li"),e),this.activate(o,o.parent(),function(){a.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:a[0]})})}}},o.prototype.activate=function(t,e,i){function a(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var n=e.find("> .active"),s=i&&l.support.transition&&(n.length&&n.hasClass("fade")||!!e.find("> .fade").length);n.length&&s?n.one("bsTransitionEnd",a).emulateTransitionEnd(o.TRANSITION_DURATION):a(),n.removeClass("in")};var t=l.fn.tab;l.fn.tab=e,l.fn.tab.Constructor=o,l.fn.tab.noConflict=function(){return l.fn.tab=t,this};var i=function(t){t.preventDefault(),e.call(l(this),"show")};l(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(r){"use strict";function i(a){return this.each(function(){var t=r(this),e=t.data("bs.affix"),i="object"==typeof a&&a;e||t.data("bs.affix",e=new d(this,i)),"string"==typeof a&&e[a]()})}var d=function(t,e){this.options=r.extend({},d.DEFAULTS,e),this.$target=r(this.options.target).on("scroll.bs.affix.data-api",r.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",r.proxy(this.checkPositionWithEventLoop,this)),this.$element=r(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};d.VERSION="3.3.7",d.RESET="affix affix-top affix-bottom",d.DEFAULTS={offset:0,target:window},d.prototype.getState=function(t,e,i,a){var n=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return n<i&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=s.top)&&"bottom":!(n+o<=t-a)&&"bottom";var l=null==this.affixed,r=l?n:s.top;return null!=i&&n<=i?"top":null!=a&&t-a<=r+(l?o:e)&&"bottom"},d.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(d.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},d.prototype.checkPositionWithEventLoop=function(){setTimeout(r.proxy(this.checkPosition,this),1)},d.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,i=e.top,a=e.bottom,n=Math.max(r(document).height(),r(document.body).height());"object"!=typeof e&&(a=i=e),"function"==typeof i&&(i=e.top(this.$element)),"function"==typeof a&&(a=e.bottom(this.$element));var s=this.getState(n,t,i,a);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var o="affix"+(s?"-"+s:""),l=r.Event(o+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(d.RESET).addClass(o).trigger(o.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:n-t-a})}};var t=r.fn.affix;r.fn.affix=i,r.fn.affix.Constructor=d,r.fn.affix.noConflict=function(){return r.fn.affix=t,this},r(window).on("load",function(){r('[data-spy="affix"]').each(function(){var t=r(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),i.call(t,e)})})}(jQuery),function(){function e(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}function o(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function t(t,e){return s.call((e||document).querySelectorAll(t))}function i(){t("input.awesomplete").forEach(function(t){new a(t)})}var a=function(t,e){var i=this;Awesomplete.count=(Awesomplete.count||0)+1,this.count=Awesomplete.count,this.isOpened=!1,this.input=o(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-owns","awesomplete_list_"+this.count),this.input.setAttribute("role","combobox"),e=e||{},function(t,e,i){for(var a in e){var n=e[a],s=t.input.getAttribute("data-"+a.toLowerCase());"number"==typeof n?t[a]=parseInt(s):!1===n?t[a]=null!==s:n instanceof Function?t[a]=null:t[a]=s,t[a]||0===t[a]||(t[a]=a in i?i[a]:n)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:a.DATA,filter:a.FILTER_CONTAINS,sort:!1!==e.sort&&a.SORT_BYLENGTH,item:a.ITEM,replace:a.REPLACE},e),this.index=-1,this.container=o.create("div",{className:"awesomplete",around:t}),this.ul=o.create("ul",{hidden:"hidden",role:"listbox",id:"awesomplete_list_"+this.count,inside:this.container}),this.status=o.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-atomic":!0,inside:this.container,textContent:0!=this.minChars?"Type "+this.minChars+" or more characters for results.":"Begin typing for results."}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;i.opened&&(13===e&&i.selected?(t.preventDefault(),i.select()):27===e?i.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),i[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){t.preventDefault()},click:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),i.select(e,t.target))}}}},o.bind(this.input,this._events.input),o.bind(this.input.form,this._events.form),o.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||e.list||[],a.all.push(this)};a.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&-1<t.indexOf(","))this._list=t.split(/\s*,\s*/);else if((t=o(t))&&t.children){var n=[];s.apply(t.children).forEach(function(t){if(!t.disabled){var e=t.textContent.trim(),i=t.value||e,a=t.label||e;""!==i&&n.push({label:a,value:i})}}),this._list=n}document.activeElement===this.input&&this.evaluate()},get selected(){return-1<this.index},get opened(){return this.isOpened},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,this.status.setAttribute("hidden",""),o.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.status.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),o.fire(this.input,"awesomplete-open")},destroy:function(){o.unbind(this.input,this._events.input),o.unbind(this.input.form,this._events.form);var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var e=a.all.indexOf(this);-1!==e&&a.all.splice(e,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!==e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),-1<(this.index=t)&&0<e.length&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent+", list item "+(t+1)+" of "+e.length,this.input.setAttribute("aria-activedescendant",this.ul.id+"_item_"+this.index),this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,o.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=o.siblingIndex(t):t=this.ul.children[this.index],t){var i=this.suggestions[this.index];o.fire(this.input,"awesomplete-select",{text:i,origin:e||t})&&(this.replace(i),this.close({reason:"select"}),o.fire(this.input,"awesomplete-selectcomplete",{text:i}))}},evaluate:function(){var i=this,a=this.input.value;a.length>=this.minChars&&this._list&&0<this._list.length?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(t){return new e(i.data(t,a))}).filter(function(t){return i.filter(t,a)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(t,e){i.ul.appendChild(i.item(t,a,e))}),0===this.ul.children.length?(this.status.textContent="No results found",this.close({reason:"nomatches"})):(this.open(),this.status.textContent=this.ul.children.length+" results found")):(this.close({reason:"nomatches"}),this.status.textContent="No results found")}},a.all=[],a.FILTER_CONTAINS=function(t,e){return RegExp(o.regExpEscape(e.trim()),"i").test(t)},a.FILTER_STARTSWITH=function(t,e){return RegExp("^"+o.regExpEscape(e.trim()),"i").test(t)},a.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},a.ITEM=function(t,e,i){return o.create("li",{innerHTML:""===e.trim()?t:t.replace(RegExp(o.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false",id:"awesomplete_list_"+this.count+"_item_"+i})},a.REPLACE=function(t){this.input.value=t.value},a.DATA=function(t){return t},Object.defineProperty(e.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),e.prototype.toString=e.prototype.valueOf=function(){return""+this.label};var s=Array.prototype.slice;o.create=function(t,e){var i=document.createElement(t);for(var a in e){var n=e[a];if("inside"===a)o(n).appendChild(i);else if("around"===a){var s=o(n);s.parentNode.insertBefore(i,s),i.appendChild(s)}else a in i?i[a]=n:i.setAttribute(a,n)}return i},o.bind=function(e,t){if(e)for(var i in t){var a=t[i];i.split(/\s+/).forEach(function(t){e.addEventListener(t,a)})}},o.unbind=function(e,t){if(e)for(var i in t){var a=t[i];i.split(/\s+/).forEach(function(t){e.removeEventListener(t,a)})}},o.fire=function(t,e,i){var a=document.createEvent("HTMLEvents");for(var n in a.initEvent(e,!0,!0),i)a[n]=i[n];return t.dispatchEvent(a)},o.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},o.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i)),a.$=o,a.$$=t,"undefined"!=typeof self&&(self.Awesomplete=a),"object"==typeof module&&module.exports&&(module.exports=a)}();var addSubmitObj=new Object;addSubmitObj.Type=null,addSubmitObj.Department=null,addSubmitObj.Applicant=null,addSubmitObj.ExpenseCategory=null,addSubmitObj.Amount=null,addSubmitObj.ExpenseItem=null,addSubmitObj.ExpenseDetails=null,addSubmitObj.ApplicationDate=null,addSubmitObj.PayDate=null,addSubmitObj.Attachment=null,addSubmitObj.Payee=null,addSubmitObj.Account=null,addSubmitObj.DepositBank=null,addSubmitObj.PaymentRemark=null,addSubmitObj.StoreName=null,addSubmitObj.OrderNO=null,addSubmitObj.Link=null,addSubmitObj.LinkRemark=null;var updateSubmitObj=new Object;updateSubmitObj.Type=null,updateSubmitObj.ID=null,updateSubmitObj.Department=null,updateSubmitObj.Applicant=null,updateSubmitObj.ExpenseCategory=null,updateSubmitObj.Amount=null,updateSubmitObj.ExpenseItem=null,updateSubmitObj.ExpenseDetails=null,updateSubmitObj.ApplicationDate=null,updateSubmitObj.PayDate=null,updateSubmitObj.Attachment=null,updateSubmitObj.Payee=null,updateSubmitObj.Account=null,updateSubmitObj.DepositBank=null,updateSubmitObj.PaymentRemark=null,updateSubmitObj.StoreName=null,updateSubmitObj.OrderNO=null,updateSubmitObj.Link=null,updateSubmitObj.LinkRemark=null;var hasRequestStaffObj={},ExpenseCategoryExpenseItemObj={"行政采购":["办公用品费","生活用品费","快递费","课程培训费","其他"],"办公管理":["办公室租赁费","宿舍租赁费","水电物业费","清洁费","保险费","社保缴纳费","其他"],"实验室采购":["苏州","深圳","厦门","成都","石家庄","北京","合肥"],"宿舍管理":["苏州","深圳","厦门","成都","石家庄","北京","合肥"]},PaymentRequestState=new Object;function getDataByPage(a,n,s){$.ajax({type:"GET",url:"PaymentRequest",data:{LoadType:"data",CurrentPage:a,Column:n,Content:s},dataType:"json"}).then(function(t){var e=t.data,i=t.pageCount;renderPageData(e,a,i),n||s?(PaymentRequestState.hasSearch=!0,PaymentRequestState.searchColumn=n,PaymentRequestState.searchContent=s):(PaymentRequestState.hasSearch=!1,PaymentRequestState.searchColumn=void 0,PaymentRequestState.searchContent=void 0)},function(){$.MsgBox_Unload.Alert("提示","服务器繁忙！页面数据获取失败")}).always(function(){})}function renderPageData(t,u,e){var c="";1==t.length?c+='<tr><td colspan="11">无数据......</td></tr>':1<t.length&&t.map(function(t,e,i){if(0<e){var a=parseInt(10*(u-1)+e),n=t.Attachment,s=n.split("::");s=$.grep(s,function(t,e){return""!=t});var o="<div class='container-fluid' style='padding-left: 1px;padding-right: 1px;padding-bottom:5px;'>";0==s.length?o+="无附件可预览或下载！":(o+="<ol>",s.map(function(t,e,i){o+="<li title='"+t+"'>"+t+"</li>"}),o+="</ol>"),o+="</div>";var l="<table class='collapse_table'><thead><tr><th colspan='2'>付款信息</th></tr></thead><tbody>";""!=t.Payee||""!=t.Account||""!=t.DepositBank||""!=t.PaymentRemark?l+="<tr><td>收款户名：</td><td>"+t.Payee+"</td></tr><tr><td>账号：</td><td>"+t.Account+"</td></tr><tr><td>开户行：</td><td>"+t.DepositBank+"</td></tr><tr><td>备注：</td><td>"+t.PaymentRemark+"</td></tr>":l+="<tr><td colspan='2'>无数据...</td></tr>",l+="</tbody></table>";var r,d,p="<table class='collapse_table'><thead><tr><th colspan='2'>链接信息</th></tr></thead><tbody>";""!=t.StoreName||""!=t.OrderNO||""!=t.Link||""!=t.LinkRemark?p+="<tr><td>店家名称：</td><td>"+t.StoreName+"</td></tr><tr><td>订单号：</td><td>"+t.OrderNO+"</td></tr><tr><td>链接：</td><td>"+t.Link+"</td></tr><tr><td>备注：</td><td>"+t.LinkRemark+"</td></tr>":p+="<tr><td colspan='2'>无数据...</td></tr>",p+="</tbody></table>","未发送"==t.SendState?r="info":"已发送"==t.SendState&&(r="success"),"未付款"==t.PayState?d="info":"已付款"==t.PayState&&(d="success"),c+='<tr><td class="update_td" data-iid="'+t.ID+'">'+a+'</td><td class="hastd_ApplicationDate" title="'+t.ApplicationDate+'" data-ivalue="'+t.ApplicationDate+'">'+t.ApplicationDate+'</td><td class="hastd_Department" title="'+t.Department+'" data-ivalue="'+t.Department+'">'+t.Department+'</td><td class="hastd_Applicant" title="'+t.Applicant+'" data-ivalue="'+t.Applicant+'">'+t.Applicant+'</td><td class="hastd_ExpenseCategory" title="'+t.ExpenseCategory+'" data-ivalue="'+t.ExpenseCategory+'">'+t.ExpenseCategory+'</td><td class="hastd_ExpenseItem" title="'+t.ExpenseItem+'" data-ivalue="'+t.ExpenseItem+'">'+t.ExpenseItem+'</td><td class="hastd_ExpenseDetails" title="'+t.ExpenseDetails+'" data-ivalue="'+t.ExpenseDetails+'">'+t.ExpenseDetails+'</td><td class="hastd_Amount" title="'+t.Amount+'" data-ivalue="'+t.Amount+'">'+t.Amount+'</td><td class="paymoney_detail_td"><button type="button" class="btn btn-default" data-container="body" data-toggle="popover" data-trigger="click" data-placement="top" data-content="'+l+'" title="'+t.Applicant+'的付款申请--付款信息详细记录"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></button></td><td class="link_detail_td"><button type="button" class="btn btn-default" data-container="body" data-toggle="popover" data-trigger="click" data-placement="top" data-content="'+p+'" title="'+t.Applicant+'的付款申请--链接信息详细记录"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></button></td><td class="hastd_PayDate" title="'+t.PayDate+'" data-ivalue="'+t.PayDate+'">'+t.PayDate+'</td><td class="hastd_Attachment" data-ivalue="'+n+'"><button type="button" class="btn btn-default" data-container="body" data-toggle="popover" data-trigger="click" data-placement="top" data-content="'+o+'" title="'+t.Applicant+'的付款申请--附件预览及下载"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span></button></td><td class="SendState_td" title="'+t.SendState+'" data-ivalue="'+t.SendState+'"><a href="javascript:;" tabindex="0" class="btn btn-sm btn-'+r+'" role="button"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>'+t.SendState+'</a></td><td class="PayState_td" title="'+t.PayState+'" data-ivalue="'+t.PayState+'"><a value="'+t.ID+'" tabindex="0" class="btn btn-sm btn-'+d+'" role="button" data-toggle="popover" data-trigger="focus" data-container="body" data-placement="left" title="对第'+a+"条记录操作。申请人："+t.Applicant+'"><span class="glyphicon glyphicon-usd" aria-hidden="true"></span>'+t.PayState+'</a></td><td class="hastd_Payee" title="'+t.Payee+'" data-ivalue="'+t.Payee+'">'+t.Payee+'</td><td class="hastd_Account" title="'+t.Account+'" data-ivalue="'+t.Account+'">'+t.Account+'</td><td class="hastd_DepositBank" title="'+t.DepositBank+'" data-ivalue="'+t.DepositBank+'">'+t.DepositBank+'</td><td class="hastd_PaymentRemark" title="'+t.PaymentRemark+'" data-ivalue="'+t.PaymentRemark+'">'+t.PaymentRemark+'</td><td class="hastd_StoreName" title="'+t.StoreName+'" data-ivalue="'+t.StoreName+'">'+t.StoreName+'</td><td class="hastd_OrderNO" title="'+t.OrderNO+'" data-ivalue="'+t.OrderNO+'">'+t.OrderNO+'</td><td class="hastd_Link" title="'+t.Link+'" data-ivalue="'+t.Link+'">'+t.Link+'</td><td class="hastd_LinkRemark" title="'+t.LinkRemark+'" data-ivalue="'+t.LinkRemark+'">'+t.LinkRemark+"</td></tr>"}}),$(".m_table table tbody").empty().append(c),$(".m_page #currentPage").text(u),$(".m_page #allPage").text(e),pageStyle(u,e),$(".paymoney_detail_td>button, .link_detail_td>button").popover({title:"请预览",html:!0}),$(".hastd_Attachment>button").popover({title:"请点击下载",html:!0}),$(".PayState_td[title='未付款']>a").popover({title:"请选择",content:'<div class="container-fluid" style="margin-bottom:5px;"><button type="button" class="btn btn-info btn-lg PayState_td_y" style="margin-right:10px;"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span>更新</button><button type="button" class="btn btn-info btn-lg PayState_td_n"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>取消</button></div>',html:!0})}function pageStyle(t,e){1==e?$("#fistPage, #upPage, #nextPage, #lastPage, #Gotojump").prop("disabled","disabled").removeClass("btn-primary").addClass("btn-default"):1==t?($("#fistPage, #upPage").prop("disabled","disabled").removeClass("btn-primary").addClass("btn-default"),$("#lastPage, #nextPage, #Gotojump").prop("disabled",!1).removeClass("btn-default").addClass("btn-primary")):t==e?($("#lastPage, #nextPage").prop("disabled","disabled").removeClass("btn-primary").addClass("btn-default"),$("#fistPage, #upPage, #Gotojump").prop("disabled",!1).removeClass("btn-default").addClass("btn-primary")):$("#lastPage, #nextPage, #fistPage, #upPage, #Gotojump").prop("disabled",!1).removeClass("btn-default").addClass("btn-primary")}function getDataByGoPage(t){var e,i;PaymentRequestState.hasSearch?(e=PaymentRequestState.searchColumn,i=PaymentRequestState.searchContent):i=e=void 0,getDataByPage(t,e,i)}function searchInit(){$(".m_button_r_in_l #search_year").hide().val(""),$(".m_button_r_in_l .in_search").show().val(""),$(".m_button_r_in>div .input-group-btn>button:nth-child(1)").text("选择字段").attr("title","选择字段")}function uploadFiles(o,t,i){var a=new FormData;a.enctype="multipart/form-data",a.append("Folder",t);var e=PaymentRequestState.uploadFileList;$.each(e,function(t,e){a.append("file",e)}),$.ajax({type:"POST",async:!0,accept:"application/json; charset=utf-8",data:a,url:"BatchUpload",processData:!1,contentType:!1,cache:!1,dataType:"json",xhr:function(){return myXhr=$.ajaxSettings.xhr(),myXhr.upload&&myXhr.upload.addEventListener("progress",function(t){var e=t.loaded,i=t.total,a=Math.floor(1e3*e/i)/10+"%";console.log("已经上传了："+a);var n=(100*globalToPoint(a)).toFixed(0);$("div."+o+"_fileList_info>div:nth-child(1)>div.progress-bar").attr("aria-valuenow",n).css("width",a).text(a)},!1),myXhr},success:function(t){if(0<t.length){var a="",n=0;t.map(function(t,e,i){-1<t.Message.indexOf("成功")?(a+='<li class="list-group-item list-group-item-success" title="'+t.FileName+'"><span class="badge uploaded">删除</span><span class="badge">成功</span>'+t.FileName+"</li>",n++):-1<t.Message.indexOf("失败")?a+='<li class="list-group-item list-group-item-danger" title="'+t.FileName+'"><span class="badge">失败</span>'+t.FileName+"</li>":a+='<li class="list-group-item list-group-item-warning" title="'+t.FileName+'"><span class="badge">文件已存在</span>'+t.FileName+"</li>"}),$("#"+o+"_fileList_ul>li>span.noUpload:contains('删除')").parent().remove(),$("#"+o+"_fileList_ul").append(a);var e=100*(n/t.length).toFixed(3),i=e+"%";for(var s in $("div."+o+"_fileList_info>div:nth-child(2)>div.progress-bar").attr("aria-valuenow",e).css("width",i).text(i),PaymentRequestState.uploadFileNo=0,PaymentRequestState.uploadFileList)delete PaymentRequestState.uploadFileList[s];$("#"+o+"_file_Upload").val("")}else 0==t.length&&$.MsgBox_Unload.Alert("上传提示","文件读取至服务器失败！")},error:function(){$("div."+o+"_fileList_info>div>div.progress-bar").prop("aria-valuenow","0").css("width","0%").text("0%"),$.MsgBox_Unload.Alert("上传提示","网络繁忙！上传失败！")},beforeSend:function(t){i.css("cursor","not-allowed").prop("disabled","disabled")},complete:function(t,e){i.css("cursor","pointer").prop("disabled",!1)}})}PaymentRequestState.uploadFileNo=0,PaymentRequestState.uploadFileList={},PaymentRequestState.hasSearch=!1,PaymentRequestState.searchColumn=void 0,PaymentRequestState.searchContent=void 0,PaymentRequestState.payStateValue=0,PaymentRequestState.popoverPayDetailVal=0,PaymentRequestState.popoverLinkDetailVal=0,PaymentRequestState.popoverAttachmentVal=0,PaymentRequestState.allMail=[],PaymentRequestState.deleteFileID="0",PaymentRequestState.deleteFileNeedRefresh=!1,PaymentRequestState.deleteFileLiDOM=null,$(function(){getDataByPage(1,void 0,void 0);var i='<option value="" disabled>请选择</option>';$.each(globalEouluAllDepart,function(t,e){i+='<option value="'+e+'">'+e+"</option>"}),$("select[name='payment_depart']").empty().append(i);var a='<option value="" disabled>请选择</option>';$.each(ExpenseCategoryExpenseItemObj,function(t,e){a+='<option value="'+t+'">'+t+"</option>"}),$("select[name='payment_ExpenseCategory']").empty().append(a),globalGetAllEmail(function(t){t.map(function(t,e,i){0<e&&PaymentRequestState.allMail.push(t.Email)})},null),$(".mail_con_field tbody td[class^='mailContent_']").attr("contenteditable","true")}),$("select[name='payment_depart']").on("change",function(){var e,n=$(this).val();if($(this).is("#add_info_Department")?e=$("#add_info_Applicant"):$(this).is("#update_info_Department")&&(e=$("#update_info_Applicant")),-1<Object.keys(hasRequestStaffObj).indexOf(n)){var i="";$.each(hasRequestStaffObj,function(t,e){t==n&&$.each(e,function(t,e){i+='<option value="'+e+'">'+e+"</option>"})}),e.empty().append(i)}else globalGetStaffAllInfoByDepart(n,function(t){var a="";hasRequestStaffObj[n]=[],t.map(function(t,e,i){0<e&&(a+='<option value="'+t.StaffName+'">'+t.StaffName+"</option>",hasRequestStaffObj[n].push(t.StaffName))}),e.empty().append(a)},null)}),$("select[name='payment_ExpenseCategory']").on("change",function(){var t,i=$(this).val();$(this).is("#add_info_ExpenseCategory")?t=$("#add_info_ExpenseItem"):$(this).is("#update_info_ExpenseCategory")&&(t=$("#update_info_ExpenseItem"));var a="";$.each(ExpenseCategoryExpenseItemObj,function(t,e){t==i&&$.each(e,function(t,e){a+='<option value="'+e+'">'+e+"</option>"})}),t.empty().append(a)}),$(".m_button_l>input[value='添加']").click(function(){$(".add_NonStandard_body_in select, .add_NonStandard_body_in input").val(""),$(".bg_cover, .add_NonStandard").slideDown(250)}),$(".add_NonStandard_tit_r, #NonStandard_addclose").click(function(){for(var t in $(".bg_cover, .add_NonStandard").slideUp(250),$("div.add_fileList_info").is(":visible")&&$("div.add_fileList_info").slideUp(150,function(){$("div.add_fileList_info>div>div.progress-bar").attr("aria-valuenow","0").css("width","0%").text("0%")}),$("#add_fileList_ul").empty(),addSubmitObj)addSubmitObj[t]=null;for(var e in PaymentRequestState.uploadFileNo=0,PaymentRequestState.uploadFileList)delete PaymentRequestState.uploadFileList[e];$("#add_file_Upload").val(""),PaymentRequestState.deleteFileLiDOM=null}),$("#add_file_Upload, #update_file_Upload").on("change",function(){var t,e,i,a;$(this).is("#add_file_Upload")?(i=$("#add_file_Upload"),t=$(".add_fileList_info"),e=$("#add_fileList_ul"),a="add"):$(this).is("#update_file_Upload")&&(i=$("#update_file_Upload"),t=$(".update_fileList_info"),e=$("#update_fileList_ul"),a="update"),t.is(":visible")||t.slideDown(150);var n=$(this)[0].files,s="",o=!0;if($.each(n,function(t,e){regHasDate.test(e.name)||regHasDateNoCTOR.test(e.name)||(o=!1)}),!o)return $.MsgBox_Unload.Alert("文件名规范提示","需包含日期！<br>如：快递费+2018-08-20+小明或<br>办公费用（第二版）+20180901+小华"),$("#mb_msg").css("line-height","40px"),i.val(""),!1;$.each(n,function(t,e){PaymentRequestState.uploadFileNo++,s+='<li class="list-group-item" title="'+e.name+'" value="'+PaymentRequestState.uploadFileNo+'"><span class="badge noUpload">删除</span><span class="badge">待上传</span>'+e.name+"</li>",PaymentRequestState.uploadFileList[PaymentRequestState.uploadFileNo]=e}),e.append(s),$("div."+a+"_fileList_info>div>div.progress-bar").prop("aria-valuenow","0").css("width","0%").text("0%")}),$(document).on("click","[id$='_fileList_ul']>li>span.noUpload:contains('删除')",function(){var t,e=$(this).parent().attr("value");delete PaymentRequestState.uploadFileList[e],$(this).parents("#add_fileList_ul").length?t=$("#add_file_Upload"):$(this).parents("#update_fileList_ul").length&&(t=$("#update_file_Upload")),t.val(""),$(this).parent().remove()}),$(".add_info_upload>button, .update_info_upload>button").click(function(){if(0==Object.keys(PaymentRequestState.uploadFileList).length)return $.MsgBox_Unload.Alert("上传提示","请选择文件！"),!1;var t;$(this).parent().is(".add_info_upload")?t="add":$(this).parent().is(".update_info_upload")&&(t="update");uploadFiles(t,"PaymentRequest",$(this))}),$("#NonStandard_addsubmit").click(function(){var t=$(this);for(var e in addSubmitObj)"Type"!=e?"Attachment"!=e&&(addSubmitObj[e]=$("#add_info_"+e).val()):addSubmitObj[e]="add";for(var i in addSubmitObj){if(addSubmitObj[i]=globalDataHandle(addSubmitObj[i],"").trim(),"Department"==i&&""==addSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未选择部门！"),!1;if("Applicant"==i&&""==addSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未选择姓名！"),!1;if("ExpenseCategory"==i&&""==addSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未选择费用类型！"),!1;if("ExpenseItem"==i&&""==addSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未选择费用项目！"),!1;if("Amount"==i&&""==addSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未填写金额！"),!1}var a=[];$("#add_fileList_ul>li.list-group-item-success").each(function(){a.push($(this).attr("title"))});var n=globalArrStrUnique(a),s=0==n.length?"":n.join("::")+"::";addSubmitObj.Attachment=s,t.css("cursor","not-allowed").prop("disabled","disabled"),$.ajax({type:"POST",url:"PaymentRequest",data:addSubmitObj,dataType:"text"}).then(function(t){"添加成功"==t&&(getDataByPage(1,void 0,void 0),$("#NonStandard_addclose").trigger("click")),$.MsgBox_Unload.Alert("提示",t)},function(){$.MsgBox_Unload.Alert("提示","服务器繁忙！")}).always(function(){t.css("cursor","pointer").prop("disabled",!1)})}),$(document).on("click",".update_td",function(){$(".bg_cover, .update_NonStandard").slideDown(250);var a=$(this).parent();updateSubmitObj.ID=$(this).data("iid").toString(),PaymentRequestState.deleteFileID=$(this).data("iid").toString();var n=a.find(".hastd_Department").data("ivalue").toString(),e=a.find(".hastd_Applicant").data("ivalue").toString(),i=$("#update_info_Applicant");if($("#update_info_Department").val(n),-1<Object.keys(hasRequestStaffObj).indexOf(n)){var s="";$.each(hasRequestStaffObj,function(t,e){if(t==n)return $.each(e,function(t,e){s+='<option value="'+e+'">'+e+"</option>"}),!1}),i.empty().append(s).val(e)}else globalGetStaffAllInfoByDepart(n,function(t){var a="";hasRequestStaffObj[n]=[],t.map(function(t,e,i){0<e&&(a+='<option value="'+t.StaffName+'">'+t.StaffName+"</option>",hasRequestStaffObj[n].push(t.StaffName))}),i.empty().append(a).val(e)},null);$(".update_NonStandard_body_in [id^='update_info_']").each(function(){if($(this).is("#update_info_Department")||$(this).is("#update_info_Applicant"))return!0;$(this).is("#update_info_ExpenseItem")&&$("#update_info_ExpenseCategory").trigger("change");var t=$(this).attr("id").replace("update_info_","hastd_"),e=a.find("."+t).data("ivalue").toString(),i=globalDataHandle(e,"");$(this).val(i)});var t=a.find(".hastd_Attachment").data("ivalue").toString().split("::");t=$.grep(t,function(t,e){return""!=t});var o="";t.map(function(t,e,i){o+='<li class="list-group-item list-group-item-info" title="'+t+'"><span class="badge uploaded">删除</span><span class="badge">已上传</span>'+t+"</li>"}),$("#update_fileList_ul").empty().append(o)}),$(".update_NonStandard_tit_r, #NonStandard_updateclose").click(function(){for(var t in $(".bg_cover, .update_NonStandard").slideUp(250),PaymentRequestState.deleteFileNeedRefresh&&(getDataByPage(Number($("span#currentPage").text()),void 0,void 0),PaymentRequestState.deleteFileNeedRefresh=!1),$("div.update_fileList_info").is(":visible")&&$("div.update_fileList_info").slideUp(150,function(){$("div.update_fileList_info>div>div.progress-bar").attr("aria-valuenow","0").css("width","0%").text("0%")}),$("#update_fileList_ul").empty(),updateSubmitObj)updateSubmitObj[t]=null;for(var e in PaymentRequestState.uploadFileNo=0,PaymentRequestState.uploadFileList)delete PaymentRequestState.uploadFileList[e];$("#update_file_Upload").val(""),PaymentRequestState.deleteFileLiDOM=null}),$("#NonStandard_updatesubmit").click(function(){var t=$(this);for(var e in updateSubmitObj)"Type"!=e?"Attachment"!=e&&"ID"!=e&&(updateSubmitObj[e]=$("#update_info_"+e).val()):updateSubmitObj[e]="update";for(var i in updateSubmitObj){if(updateSubmitObj[i]=globalDataHandle(updateSubmitObj[i],"").trim(),"Department"==i&&""==updateSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未选择部门！"),!1;if("Applicant"==i&&""==updateSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未选择姓名！"),!1;if("ExpenseCategory"==i&&""==updateSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未选择费用类型！"),!1;if("ExpenseItem"==i&&""==updateSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未选择费用项目！"),!1;if("Amount"==i&&""==updateSubmitObj[i])return $.MsgBox_Unload.Alert("提示","未填写金额！"),!1}var a=[];$("#update_fileList_ul>li.list-group-item-success, #update_fileList_ul>li.list-group-item-info").each(function(){a.push($(this).attr("title"))});var n=globalArrStrUnique(a),s=0==n.length?"":n.join("::")+"::";updateSubmitObj.Attachment=s,t.css("cursor","not-allowed").prop("disabled","disabled"),$.ajax({type:"POST",url:"PaymentRequest",data:updateSubmitObj,dataType:"text"}).then(function(t){"修改成功"==t&&(getDataByPage(Number($("span#currentPage").text()),void 0,void 0),PaymentRequestState.deleteFileNeedRefresh=!1,$("#NonStandard_updateclose").trigger("click")),$.MsgBox_Unload.Alert("提示",t)},function(){$.MsgBox_Unload.Alert("提示","服务器繁忙！")}).always(function(){t.css("cursor","pointer").prop("disabled",!1)})}),$("#jumpNumber").on("input propertychange",function(){var t=$(this).val().replace(/[^\d]/g,"");$(this).val(t)}),$("#fistPage").click(function(){getDataByGoPage(1)}),$("#lastPage").click(function(){getDataByGoPage(Number($("#allPage").text()))}),$("#upPage").click(function(){var t=Number($("#currentPage").text());1!=t&&getDataByGoPage(--t)}),$("#nextPage").click(function(){var t=Number($("#currentPage").text());t!=Number($("#allPage").text())&&getDataByGoPage(++t)}),$("#Gotojump").click(function(){var t=$("#jumpNumber").val().trim(),e=Number($("#allPage").text());t==Number($("#currentPage").text())||t<=0||e<t?$("#jumpNumber").val(""):getDataByGoPage(t)}),$("#add_info_Amount, #update_info_Amount").on("blur",function(t){t.stopPropagation();var e=$(this).val();if(""==e)return!1;regIntOr1To2DeciPoi.test(e)?$(this).val(e):$(this).val("0")}),$(".trigger_click").click(function(t){t.preventDefault(),$(this).next().trigger("click")}),$(document).on("click","td.SendState_td>a",function(){$(".mail_cover_bg, .mail_template").slideDown(250),$(".mail_template").attr("value",$(this).parent().siblings(".update_td").data("iid")),$(".TO_radio_div>label:eq(0)").addClass("active").children("input").prop("checked",!0),$(".TO_radio_div>label:eq(1)").removeClass("active").children("input").prop("checked",!1),$(".TO_wrapper>.mail_item:eq(0)").children(".mail_item_select").show(),$(".TO_wrapper>.mail_item:eq(1)").children(".mail_item_select").hide();var t=$("span#email").text(),e='<div class="mail_item"><span class="mail_item_info">抄送人1</span><input type="text" class="form-control" value="wangxiaoliang@eoulu.com"><span class="mail_item_add glyphicon glyphicon-plus" aria-hidden="true"></span><span class="mail_item_del glyphicon glyphicon-remove" aria-hidden="true"></span></div><div class="mail_item"><span class="mail_item_info">抄送人2</span><input type="text" class="form-control" value="luoxiaoxu@eoulu.com"><span class="mail_item_add glyphicon glyphicon-plus" aria-hidden="true"></span><span class="mail_item_del glyphicon glyphicon-remove" aria-hidden="true"></span></div><div class="mail_item"><span class="mail_item_info">抄送人3</span><input type="text" class="form-control" value="zhaona@eoulu.com"><span class="mail_item_add glyphicon glyphicon-plus" aria-hidden="true"></span><span class="mail_item_del glyphicon glyphicon-remove" aria-hidden="true"></span></div><div class="mail_item"><span class="mail_item_info">抄送人4</span><input type="text" class="form-control" value="gaona@eoulu.com"><span class="mail_item_add glyphicon glyphicon-plus" aria-hidden="true"></span><span class="mail_item_del glyphicon glyphicon-remove" aria-hidden="true"></span></div><div class="mail_item"><span class="mail_item_info">抄送人5</span><input type="text" class="form-control" value="zhufei@eoulu.com"><span class="mail_item_add glyphicon glyphicon-plus" aria-hidden="true"></span><span class="mail_item_del glyphicon glyphicon-remove" aria-hidden="true"></span></div><div class="mail_item"><span class="mail_item_info">抄送人6</span><input type="text" class="form-control" value="fanminmin@eoulu.com"><span class="mail_item_add glyphicon glyphicon-plus" aria-hidden="true"></span><span class="mail_item_del glyphicon glyphicon-remove" aria-hidden="true"></span></div>'+(""!=t?'<div class="mail_item"><span class="mail_item_info">抄送人7</span><input type="text" class="form-control" value="'+t+'"><span class="mail_item_add glyphicon glyphicon-plus" aria-hidden="true"></span><span class="mail_item_del glyphicon glyphicon-remove" aria-hidden="true"></span></div>':"");$("div.CC_wrapper").empty().append(e).find(".mail_item").each(function(){var t=$(this).index()+1;$(this).find(".mail_item_info").text("抄送人"+t)});var i=$(this).parent().siblings(".hastd_ExpenseDetails").text();$("#i_mail_Subject").val("Eoulu："+i),$("span.auto_detail_con").text(i);var a=$(this).parent();$(".mail_con_field tbody td[class^='mailContent_']").each(function(){var t=$(this).attr("class").replace("mailContent_","hastd_"),e=globalDateDataHandle(a.siblings("."+t).data("ivalue"),"");$(this).text(e)}),$(".CC_wrapper>.mail_item input").each(function(t,e){new Awesomplete(e,{list:PaymentRequestState.allMail,minChars:2,maxItems:12,autoFirst:!0})})}),$("input[name='TO_radio']").change(function(){var t=$(".TO_radio_div>label").index($(this).parent());$(".TO_wrapper>.mail_item:eq("+t+")").children(".mail_item_select").show(),$(".TO_wrapper>.mail_item:not(:eq("+t+"))").children(".mail_item_select").hide()}),$(".mail_template_tit_r, #mail_template_close").click(function(){$(".mail_cover_bg, .mail_template").slideUp(250)}),$(document).on("click",".mail_item_add",function(){var t,e=$(this).parent().siblings(".mail_item").length+2,i=$(this).parents("[class$='_wrapper']");i.is(".TO_wrapper")?t="收件人"+e:i.is(".CC_wrapper")&&(t="抄送人"+e);var a='<div class="mail_item"><span class="mail_item_info">'+t+'</span><input type="text" class="form-control" value=""><span class="mail_item_add glyphicon glyphicon-plus" aria-hidden="true"></span><span class="mail_item_del glyphicon glyphicon-remove" aria-hidden="true"></span></div>';i.append(a),$(".CC_wrapper>.mail_item input").each(function(t,e){$(e).is(".CC_wrapper>.mail_item input:last")&&new Awesomplete(e,{list:PaymentRequestState.allMail,minChars:2,maxItems:12,autoFirst:!0})})}),$(document).on("click",".mail_item_del",function(){var e,t=$(this).parents("[class$='_wrapper']");$(this).parent().remove(),t.is(".TO_wrapper")?e="收件人":t.is(".CC_wrapper")&&(e="抄送人"),t.find(".mail_item").each(function(){var t=$(this).index()+1;$(this).find(".mail_item_info").text(e+t)})}),$("#mail_template_submit").click(function(){var t=$(this),e=$(".mail_template").attr("value"),i=$("#i_mail_Subject").val().trim();if(""===i)return $.MsgBox_Unload.Alert("发邮件提示","邮件主题不能为空！"),!1;var a=$(".TO_radio_div>label").index($("input[name='TO_radio']:checked").parent()),n=$(".TO_wrapper>.mail_item:eq("+a+")").find("input").val()+";",s="";$(".CC_wrapper .mail_item").each(function(){var t=$(this).find("input.form-control").val().trim();t&&(s+=t,s+=";")});var o=$(".mail_con_field div.row").html();t.css("cursor","not-allowed").prop("disabled","disabled"),$.ajax({type:"POST",url:"PaymentMailSend",data:{ID:e,Subject:i,ToList:n,CopyList:s,MailContent:o},dataType:"json"}).then(function(t){t?(getDataByPage(Number($("span#currentPage").text()),void 0,void 0),$.MsgBox_Unload.Alert("发邮件提示","操作成功！")):$.MsgBox_Unload.Alert("发邮件提示","操作失败！")},function(){$.MsgBox_Unload.Alert("发邮件提示","服务器繁忙！")}).always(function(){t.css("cursor","pointer").prop("disabled",!1)})}),$(document).on("click",".PayState_td[title='未付款']>a",function(){PaymentRequestState.payStateValue=$(this).attr("value")}),$(document).on("click","button.PayState_td_y",function(){var t=$(this);t.css("cursor","not-allowed").prop("disabled","disabled"),$.ajax({type:"GET",url:"PaymentMailSend",data:{ID:PaymentRequestState.payStateValue},dataType:"json"}).then(function(t){t?(getDataByPage(Number($("span#currentPage").text()),void 0,void 0),$.MsgBox_Unload.Alert("付款状态操作提示","更新成功！")):$.MsgBox_Unload.Alert("付款状态操作提示","更新失败！")},function(){$.MsgBox_Unload.Alert("付款状态操作提示","服务器繁忙！")}).always(function(){t.css("cursor","pointer").prop("disabled",!1)})}),$(document).on("click","li.list-group-item-success, li.list-group-item-info, ol>li, .warning_alert_wrapper_h4>a",function(){var t=$(this).attr("title");if(!t)return $.MsgBox_Unload.Alert("下载提示","无数据或文件已被删除！"),!1;var e=globalHostName+"/LogisticsFile/File/PaymentRequest/"+t;window.open(e)}),$("#global_table_style thead span").click(function(){$(this).toggleClass("glyphicon-plus glyphicon-minus"),$(this).parent().is(".t3")?($("#global_table_style thead").toggleClass("showName"),$("#global_table_style tbody").toggleClass("showName")):$(this).parent().is(".t7")&&($("#global_table_style thead").toggleClass("showCategoryItem"),$("#global_table_style tbody").toggleClass("showCategoryItem"))}),$(document).on("click",".paymoney_detail_td>button",function(t){t.stopPropagation();var e=$(this).parent().siblings(".update_td").data("iid").toString();$("#global_table_style>tbody>tr .update_td:not([data-iid='"+e+"'])").siblings(".paymoney_detail_td").children("button").popover("hide"),$("#global_table_style>tbody>tr .update_td[data-iid='"+e+"']").siblings(".paymoney_detail_td").children("button").popover("show")}),$(document).on("click",".link_detail_td>button",function(t){t.stopPropagation();var e=$(this).parent().siblings(".update_td").data("iid").toString();$("#global_table_style>tbody>tr .update_td:not([data-iid='"+e+"'])").siblings(".link_detail_td").children("button").popover("hide"),$("#global_table_style>tbody>tr .update_td[data-iid='"+e+"']").siblings(".link_detail_td").children("button").popover("show")}),$(document).on("click",".hastd_Attachment>button",function(t){t.stopPropagation();var e=$(this).parent().siblings(".update_td").data("iid").toString();$("#global_table_style>tbody>tr .update_td:not([data-iid='"+e+"'])").siblings(".hastd_Attachment").children("button").popover("hide"),$("#global_table_style>tbody>tr .update_td[data-iid='"+e+"']").siblings(".hastd_Attachment").children("button").popover("show")}),$(document).on("click","div.popover",function(t){t.stopPropagation()}),$(document).on("click",function(t){$(".paymoney_detail_td>button").popover("hide"),$(".link_detail_td>button").popover("hide"),$(".hastd_Attachment>button").popover("hide")}),$(document).on("click","span.badge.uploaded",function(t){t.stopPropagation(),$(this).parent().is(".list-group-item-success")?PaymentRequestState.deleteFileID="0":$(this).parent().is(".list-group-item-info")&&(PaymentRequestState.deleteFileID=updateSubmitObj.ID),PaymentRequestState.deleteFileLiDOM=$(this).parent();var e=$(this).parent().attr("title"),i='<div class="alert alert-warning alert-dismissible fade in" role="alert" id="warning_alert_wrapper_alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4>确定删除</h4><h4 class="warning_alert_wrapper_h4"><a class="alert-link" title="'+e+'">'+e+'</a></h4><h4>吗？</h4><p>文件删除成功后无需再次点提交按钮！</p><p><button type="button" class="btn btn-warning" id="yes_delete_file">是，删除</button><button type="button" class="btn btn-default" id="no_delete_file">否，点错了</button></p></div>';$(".warning_alert_wrapper, .warning_alert_wrapper_cover").slideDown(150).children("div").empty().append(i)}),$(document).on("click","#warning_alert_wrapper_alert>button",function(){$(".warning_alert_wrapper, .warning_alert_wrapper_cover").slideUp(150)}),$(document).on("click","#no_delete_file",function(){$("#warning_alert_wrapper_alert").alert("close"),$(".warning_alert_wrapper, .warning_alert_wrapper_cover").slideUp(150)}),$(document).on("click","#yes_delete_file",function(){var t=$(this);$.ajax({type:"GET",url:"DeletePaymentAttachment",data:{ID:PaymentRequestState.deleteFileID,FileName:t.parent().siblings(".warning_alert_wrapper_h4").children("a").attr("title")}}).then(function(t){"true"==t?($.MsgBox_Unload.Alert("删除提示","删除成功！"),$("#no_delete_file").trigger("click"),PaymentRequestState.deleteFileLiDOM.is(".list-group-item-info")&&(PaymentRequestState.deleteFileNeedRefresh=!0),PaymentRequestState.deleteFileLiDOM.remove(),PaymentRequestState.deleteFileLiDOM=null):"false"==t?$.MsgBox_Unload.Alert("删除提示","删除失败或出错！"):$.MsgBox_Unload.Alert("删除提示",t)},function(){$.MsgBox_Unload.Alert("删除提示","服务器繁忙！")})});